---
author: Camille
title: "基本3：2 ファクタ認証（2 要素認証）"
date: 2020-09-13
#image: "2020-08-31-Berty-Blogpost-2FA.jpg"
image: "2020-08-31-Berty-Blogpost-2FA.jpg"
categories:
  - free-speech
tags:
  - security
  - privacy
description: 2FA（2 要素認証）について知ろう
---

# 基本3：2 ファクタ認証（2 要素認証）


昨今、アカウントへのアクセスはますます危うくなっています。 実際、一連のパスワードを試すような強力なソフトウェアが増えています。 では、どのようにして自分のアカウントへのアクセスを守ればいいのでしょう。 「多段階認証」や「多要素認証」という言葉を聞いたことがありますでしょうか？

意識していなかったかもしれませんが、この物理的な世界で、すでに 2 ファクタ認証を利用しています。 このカードは、あなたの口座での取引を確認するために銀行から渡されたものですが、このカードを覚えていますか？ 実は、2 要素認証（2FA）とは、ログインに必要な手順に追加されるものです。 2FA を持っていない場合、通常はユーザー名とパスワードを入力すれば完了です。 この場合、パスワードが唯一の認証要素です。 言ってしまえば、「2 つ目のファクタ（要素）」とはユーザーのアカウントをより安全にするものです。

「2FA」と混同してはいけないのが、メールプロバイダーを経由してサイトに接続する（「Google で接続」のような）機能です。 これは厳密には 2FA ではありません。確かに「安全な」ウェブサイトを信用するよりも、安全なメール・システムを利用した方が良い場合もあります。 しかし、それはまた別の問題です。2FA に話を戻しましょう。

## 2 ファクタ認証 (2FA) とは

![](https://i.imgur.com/MJUVRuw.jpg)

2 要素認証 (2FA) とは、ユーザーが 2 つ以上の証拠を認証機構へ提出して、成功した場合にのみアクセスが許可される認証方法です。

例えば、ユーザーの電子メール・アカウントにログインする場合、パスワード以外にも追加情報を提出する必要があります。 これは、SMS で受信したコードであったり、認証アプリ上のコードやワンタイム・パスワードであったりします。

通常、1 つ目の要素は、あなたが知っているもの（パスワード、PINコード）による認証です。 2 つ目は、あなたが知らない情報（認証のために特別に生成されたコード）ですが、あなたにリンクされている情報です

この情報は、いくつかのタイプに分けられますが一般的に以下があります：
- 🔑 あなたが所持しているもの（USB キーのような物理的なもの）
- 🐾 あなた自身の何か（指紋や顔認証など）
- 🧠 あなたしか知らない何か（パスワードなど）
- 📍 あなたのいる場所（GPS のロケーションなど）


> お使いのウェブサイトやアプリが 2FA をサポートしているかどうかは https://twofactorauth.org/ で確認できます。

## 📞 SMS による 2 ファクタ認証

![](https://i.imgur.com/uuqGxCp.jpg)


この場合、ID 認証に必要な 2 つ目の要素は SMS で送られてくるコードです。 おそらく、これが皆さんが一番よく知っている方法だと思います。

もしパスワードが盗まれても、SMS で送られてくるコードは毎回違うため、それ以上先へは進めなくなります。 携帯電話が物理的に盗まれたり、[Sim Swapping](https://berty.tech/blog/sim-swapping/) で Sim カードがハッキングされたりしない限り、このコードはユーザーの携帯電話番号と連動しているため、強力なセキュリティ機能となります。

このタイプの 2FA の大きな欠点は、携帯電話のネットワークが機能していない場合や、電波の届かない場所にいる場合、本人確認のためのコードを受け取ることができないことです。 もう一つのデメリットは、（例えばタブレットとモバイルが接続されているなど）集中管理されたデバイスを使用している場合、これらのデバイスでもコードを受け取れることになります。この場合、ログイン・コードは、パスワードと同様にリスクが高くなります。


## 📱 認証アプリケーションによる 2 ファクタ認証

![](https://i.imgur.com/YuRNDY0.jpg)


認証アプリケーションは、SMS による 2FA と同様のサービスを提供します。 しかし、コードを受け取るのではなく、スマートフォンやタブレットの中でコードを生成します。 そのため携帯電話 (SMS) が使えない場所でも認証できるので、柔軟性があります。

このタイプは、時間をベースに暗号アルゴリズムを用いてワンタイム・パスワードを生成します。(Time-based One-time Password algorithm、略して TOTP)

2FA 側のアプリケーションは、まず「シード」と呼ばれる開始キーを生成します。 認証アプリケーションは、このキーと、日付や時刻を混合させて一定時間（通常30～60秒）のあいだ有効なワンタイムコードを作成します。

> 💡 便利情報：この TOTP を管理できる[パスワードマネージャー](https://berty.tech/blog/best-password-manager/)もあります。

***オープンソースの TOTP：***

👉 https://awesomeopensource.com/projects/totp

👉 https://freeotp.github.io/

👉 https://krypt.co/

認証アプリケーションによる 2FA の主な欠点は、スキャマーが（あなたのデバイス、もしくはサーバーをハッキングして）シードを掴んだ場合、彼らはいつでもコードを計算できてしまうということです。 そのため、ログインする端末と同じ端末で認証アプリケーションを使用している場合、認証コードはパスワードと同様のリスクを持つことになります。


## 🗝️ FIDO U2F ハードウェアによる 2 ファクタ認証（YubiKey など）

![](https://i.imgur.com/ZzJa77a.png)


ポケットに収まるサイズの堅牢なソリューションをお探しなら、FIDO アライアンスが開発した U2F (Universal 2nd Factor) 規格に基づいたハードウェア・トークンが最適です。 最も有名で典型的な U2F は Yubico 社製の YubiKey です。

具体的には、USB キー・サイズの小さなデバイスで、内部で識別コードが生成できます。 正しいコードを作成するには、キーを挿入するだけです。 このため、現実の世界では「U2F が物理的に手元になければならない」という追加のステップ（2 つ目の要素）が必要になります。

ただし、デバイスを別途購入する必要があることや、すでに SMS や認証アプリによる 2FA に対応しているサイトのすべてが、このシステムに対応しているわけではないことなど、いくつかの制約を受けることになります。 また、このタイプの 2FA は、マシンの USB ポートに物理的にアクセスできる必要があります。そのため、TeamViewer といったリモート・アクセスでは使用することはできません。 最後に、もしデバイスを紛失した場合 ... 2FA のリカバリー・コードを使ってすべてのアカウントを回復していかなければなりません。 しっかり保存していることを願っています。 リカバリー・コードを紛失していた場合は、各サイトのサポートに連絡して 2FA を無効にしてください。


## さいごに

結論を言うと「銀の弾丸」のような、完璧で唯一の方法はありません。 敢えてお勧めするとすれば「種々さまざまな物を、うまく組み合わせる」です。 2 ファクタ（要素）認証だけでなく、多要素認証（MFA）を採用することをお勧めします。 そして、パスワード・マネージャーへのアクセスは可能な限り堅牢にし、 2FA が使えるなら可能な限り有効にしましょう。

この記事を楽しんでいただけましたら幸いです。 アイデアやコメントをお待ちしています。

インタネットに乾杯！
{{<tweet id="1291024965630939136">}}

